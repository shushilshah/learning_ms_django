<!-- Include Bootstrap CSS & optional Animate.css for extra effects -->
 <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<style>
  /* Card hover animation */
  .notice-card {
    transition: transform 0.3s, box-shadow 0.3s;
    cursor: pointer;
  }
  .notice-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.15);
  }

  /* Different background colors for sent vs received */
  .sent-notice {
    border-left: 5px solid #0d6efd; /* Blue for sent */
  }
  .received-notice {
    border-left: 5px solid #198754; /* Green for received */
  }

  /* Fade-in on scroll */
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease-out;
  }
  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<div class="container my-5">
  <!-- Notices Sent by You -->
  <h2 class="mb-4">Notices Sent by You</h2>
  <div class="row row-cols-1 row-cols-md-2 g-4">
    {% for n in notices_sent_to_student %}
      <div class="col fade-in">
        <div class="card notice-card sent-notice h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ n.title }}</h5>
            <p class="card-text">{{ n.message }}</p>
          </div>
          <div class="card-footer text-muted small">
            {{ n.latest_created_at|date:"M d, Y H:i" }}
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col">
        <div class="alert alert-info animate__animated animate__fadeIn" role="alert">
          No notices sent yet.
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- Notices From Admin -->
  <h2 class="mt-5 mb-4">Notices From Admin</h2>
  <div class="row row-cols-1 row-cols-md-2 g-4">
    {% for m in notices_sent_by_admin %}
      <div class="col fade-in">
        <div class="card notice-card received-notice h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ m.title }}</h5>
            <p class="card-text">{{ m.message }}</p>
          </div>
          <div class="card-footer text-muted small">
            {{ m.created_at|date:"M d, Y H:i" }}
          </div>
        </div>
      </div>
    {% empty %}
      <div class="col">
        <div class="alert alert-info animate__animated animate__fadeIn" role="alert">
          No notices received yet.
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<script>
  // Fade-in on scroll
  const faders = document.querySelectorAll('.fade-in');

  const appearOptions = {
    threshold: 0.2,
    rootMargin: "0px 0px -50px 0px"
  };

  const appearOnScroll = new IntersectionObserver(function(entries, appearOnScroll) {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      entry.target.classList.add('visible');
      appearOnScroll.unobserve(entry.target);
    });
  }, appearOptions);

  faders.forEach(fader => {
    appearOnScroll.observe(fader);
  });
</script>
